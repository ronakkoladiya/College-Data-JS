let data = {
  // <-------------------------------------------------------------------Computer---------------------------------------------------------------->

  collage_name: "L. E. Collage",
  department_data: [
    {
      department: "Computer",
      dep_head: "M.S. Dhoni",
      year: [
        {
          year: "First",
          year_head: "Devendra Thakor",
          student_data: [
            {
              id: "2022_1",
              student_name: "Vivek Bajaj",
              gender: "Male",
              contact_number: "9879870001",
              email_id: "vevekbajaj@gmail.com",
              admission_year: "2022",
              merit_12th: "76",
            },
            {
              id: "2022_2",
              student_name: "Shalini Patel",
              gender: "Female",
              contact_number: "9879870002",
              email_id: "pshalini@gmail.com",
              admission_year: "2022",
              merit_12th: "85",
            },
            {
              id: "2022_3",
              student_name: "Kevin jadeja",
              gender: "Male",
              contact_number: "9879870003",
              email_id: "kevin@gmail.com",
              admission_year: "2022",
              merit_12th: "87",
            },
            {
              id: "2022_4",
              student_name: "Harsh Dhorajiya",
              gender: "Male",
              contact_number: "9879870004",
              email_id: "Harsh22@gmail.com",
              admission_year: "2022",
              merit_12th: "83",
            },
            {
              id: "",
              student_name: "Vishal Gajera",
              gender: "Male",
              contact_number: "9835540004",
              email_id: "",
              admission_year: "2022",
              merit_12th: "93",
            },
          ],
        },

        // <-------------------------------------------------------------second year---------------------------------------------------------->
        {
          year: "Second",
          year_head: "Rachana Patel",
          student_data: [
            {
              id: "2021_1",
              student_name: "Divayesh Ranpara",
              gender: "Male",
              contact_number: "9879870005",
              email_id: "dr@gmail.com",
              admission_year: "2021",
              merit_12th: "78",
            },
            {
              id: "",
              student_name: "Yagnik Devani",
              gender: "Male",
              contact_number: "9879870001",
              email_id: "",
              admission_year: "2021",
              merit_12th: "88",
            },{
              id: "",
              student_name: "Ronak Koladiya",
              gender: "Male",
              contact_number: "9879870008",
              email_id: "",
              admission_year: "2021",
              merit_12th: "80",
            },
            {
              id: "2022_0_2",
              student_name: "Krunal Mehata",
              gender: "Male",
              contact_number: "9879870006",
              email_id: "Krunal23@gmail.com",
              admission_year: "2022",
              merit_diploma: "88",
            },
            {
              id: "2022_0_4",
              student_name: "Shubham Khunt",
              gender: "Male",
              contact_number: "9879870007",
              email_id: "shubhu7@gmail.com",
              admission_year: "2022",
              merit_diploma: "67",
            },
            {
              id: "",
              student_name: "Bhargav Gajera",
              gender: "Male",
              contact_number: "9835540004",
              email_id: "",
              admission_year: "2021",
              merit_12th: "93",
            },
            {
              id: "2021_2",
              student_name: "Ashwin Patel",
              gender: "Male",
              contact_number: "9879870008",
              email_id: "apatel@gmail.com",
              admission_year: "2021",
              merit_12th: "77",
            },
          ],
        },

        // <-------------------------------------------------------------third year----------------------------------------------------------->
        {
          year: "Third",
          year_head: "Niyanta Desai",
          student_data: [
            {
              id: "2021_0_1",
              student_name: "Chitranjan Rama",
              gender: "Male",
              contact_number: "9879870001",
              email_id: "c.r@gmail.com",
              admission_year: "2021",
              merit_diploma: "72",
            },
            {
              id: "2020_2",
              student_name: "Nupur Parmer",
              gender: "Female",
              contact_number: "9879870010",
              email_id: "np@gmail.com",
              admission_year: "2020",
              merit_12th: "77",
            },
            {
              id: "2020_3",
              student_name: "Sameera Rai",
              gender: "Female",
              contact_number: "9879870011",
              email_id: "sameera@gmail.com",
              admission_year: "2020",
              merit_12th: "88",
            },
            {
              id: "2020_4",
              student_name: "Prabhat Goda",
              gender: "Male",
              contact_number: "9879870012",
              email_id: "pg@gmail.com",
              admission_year: "2020",
              merit_12th: "65",
            },
            {
              id: "2021_0_2",
              student_name: "Vaishali Bhatt",
              gender: "Female",
              contact_number: "98798734011",
              email_id: "Vaishali_bhatt@gmail.com",
              admission_year: "2021",
              merit_diploma: "74",
            },
            {
              id: "",
              student_name: "Mitesh Dudhat",
              gender: "Male",
              contact_number: "98355434655",
              email_id: "",
              admission_year: "2020",
              merit_12th: "93",
            },
            {
              id: "",
              student_name: "Pinal Patel",
              gender: "Female",
              contact_number: "9978021537",
              email_id: "",
              admission_year: "2021",
              merit_diploma: "93",
            },
          ],
        },

        // <--------------------------------------------------------------fourth Year---------------------------------------------------------->
        {
          year: "Fourth",
          year_head: "D.S. Patil",
          student_data: [
            {
              id: "2019_1",
              student_name: "Nancy Patel",
              gender: "Female",
              contact_number: "9879870013",
              email_id: "nancy@gmail.com",
              admission_year: "2019",
              merit_12th: "77",
            },
            {
              id: "2019_2",
              student_name: "Sankalp Desai",
              gender: "Male",
              contact_number: "9879870014",
              email_id: "sankalp",
              admission_year: "2019",
              merit_12th: "75",
            },
            {
              id: "2019_3",
              student_name: "Sudheer Chouhan",
              gender: "Male",
              contact_number: "9879870001",
              email_id: "sc@gmail.com",
              admission_year: "2019",
              merit_12th: "57",
            },
            {
              id: "2019_4",
              student_name: "Niyati Chawada",
              gender: "Female",
              contact_number: "9879870016",
              email_id: "niyati@gmail.com",
              admission_year: "2019",
              merit_12th: "89",
            },
            {
              id: "",
              student_name: "Megha Chawada",
              gender: "Female",
              contact_number: "9893570016",
              email_id: "",
              admission_year: "2020",
              merit_diploma: "90",
            },
            {
              id: "",
              student_name: "Jyoti Chavda",
              gender: "Female",
              contact_number: "9889870016",
              email_id: '',
              admission_year: "2019",
              merit_12th: "79",
            },
          ],
        },

        // <--------------------------------------------------------------pass year------------------------------------------------------------>
        {
          year: "Pass Out",
          year_head: "Bhavik Patel",
          student_data: [
            {
              id: "2018_1",
              student_name: "Rutu Patel",
              gender: "Female",
              contact_number: "9879870033",
              email_id: "rutu@gmail.com",
              admission_year: "2018",
              merit_12th: "68",
            },
            {
              id: "2018_2",
              student_name: "Charmi Dhudhat",
              gender: "Female",
              contact_number: "9879870034",
              email_id: "charmi@gmail.com",
              admission_year: "2018",
              merit_12th: "87",
            },
            {
              id: "2018_3",
              student_name: "Savi Dravid",
              gender: "Feamle",
              contact_number: "9879870035",
              email_id: "savi@gmail.com",
              admission_year: "2018",
              merit_12th: "91",
            },
            {
              id: "2018_4",
              student_name: "Savi patel",
              gender: "Feamle",
              contact_number: "98723470035",
              email_id: "savi_patel@gmail.com",
              admission_year: "2018",
              merit_12th: "80",
            },
            {
              id: "2018_5",
              student_name: "raxita vaghasiya",
              gender: "Feamle",
              contact_number: "987343470035",
              email_id: "raxita_vaghasiya@gmail.com",
              admission_year: "2018",
              merit_12th: "86",
            },
            {
              id: "",
              student_name: "Dhyey Sharma",
              gender: "Male",
              contact_number: "8141652472",
              email_id: "",
              admission_year: "2018",
              merit_12th: "85",
            },
            {
              id: "",
              student_name: "Shrushti Miyani",
              gender: "Feamle",
              contact_number: "8141652472",
              email_id: "",
              admission_year: "2018",
              merit_12th: "86",
            },
            {
              id: "",
              student_name: "Darshan chopda",
              gender: "Male",
              contact_number: "8148652472",
              email_id: "",
              admission_year: "2018",
              merit_12th: "65",
            },
            {
              id: "2018_6",
              student_name: "Ishan Vekariya",
              gender: "Male",
              contact_number: "9879870036",
              email_id: "ishan@gmail.com",
              admission_year: "2018",
              merit_12th: "78",
            },
          ],
        },
      ],
    },

    // <-----------------------------------------------------------------automobile------------------------------------------------------------>

    {
      department: "Automobile",
      dep_head: "Sachin Tendulkar",
      year: [
        {
          year: "First",
          year_head: "Akhilsh Yadav",
          student_data: [
            {
              id: "2022_1",
              student_name: "Sanket desai",
              gender: "Male",
              contact_number: "9879870017",
              email_id: "sanket@gmail.com",
              admission_year: "2022",
              merit_12th: "67",
            },
            {
              id: "2022_2",
              student_name: "Ram Taneja",
              gender: "Male",
              contact_number: "9879870018",
              email_id: "rt@gmail.com",
              admission_year: "2022",
              merit_12th: "76",
            },
            {
              id: "2022_3",
              student_name: "Vishakha Dhameliya",
              gender: "Feamle",
              contact_number: "9879870017",
              email_id: "vd@gmail.com",
              admission_year: "2022",
              merit_12th: "96",
            },
            {
              id: "2022_4",
              student_name: "Vanshika Tandel",
              gender: "Female",
              contact_number: "9879870034",
              email_id: "vt@gmail.com",
              admission_year: "2022",
              merit_12th: "76",
            },
          ],
        },
        // <--------------------------------------------------------------second year---------------------------------------------------------------------->
        {
          year: "Second",
          year_head: "V.K Shah",
          student_data: [
            {
              id: "2022_0_1",
              student_name: "Parth Patel",
              gender: "Male",
              contact_number: "9879870021",
              email_id: "pp@gmail.com",
              admission_year: "2022",
              merit_diploma: "80",
            },
            {
              id: "2021_2",
              student_name: "Mahi Vaghani",
              gender: "Female",
              contact_number: "9879870022",
              email_id: "mv@gmail.com",
              admission_year: "2021",
              merit_12th: "65",
            },
            {
              id: "2021_3",
              student_name: "Sakshi Bajaj",
              gender: "Female",
              contact_number: "9879870023",
              email_id: "sb@gmail.com",
              admission_year: "2021",
              merit_12th: "87",
            },
            {
              id: "2021_4",
              student_name: "Naveen Shah",
              gender: "Male",
              contact_number: "9879870024",
              email_id: "ns@gmail.com",
              admission_year: "2021",
              merit_12th: "56",
            },
            {
              id: "2021_5",
              student_name: "vairagi dave",
              gender: "Female",
              contact_number: "9879870034",
              email_id: "vairagi_dave@gmail.com",
              admission_year: "2021",
              merit_12th: "93",
            },
            {
              id: "",
              student_name: "Shubham Chauhan",
              gender: "Male",
              contact_number: "54872165478",
              email_id: "",
              admission_year: "2021",
              merit_12th: "85",
            },
            {
              id: "",
              student_name: "Nirav Loriya",
              gender: "Male",
              contact_number: "9879870017",
              email_id: "",
              admission_year: "2021",
              merit_12th: "85",
            },
            {
              id: "",
              student_name: "Nayra Sharma",
              gender: "Feamle",
              contact_number: "34567436654",
              email_id: "",
              admission_year: "2022",
              merit_diploma: "79",
            },
          ],
        },

        // <---------------------------------------------------------------third year---------------------------------------------------------------------->

        {
          year: "Third",
          year_head: "Purvi Tandel",
          student_data: [
            {
              id: "2020_1",
              student_name: "Pinal Nakarani",
              gender: "Female",
              contact_number: "9879870025",
              email_id: "pinal@gmail.com",
              admission_year: "2020",
              merit_12th: "95",
            },
            {
              id: "2020_2",
              student_name: "Chandra Vakani",
              gender: "Male",
              contact_number: "9879870026",
              email_id: "chandra@gmail.com",
              admission_year: "2020",
              merit_12th: "88",
            },
            {
              id: "2020_3",
              student_name: "Vishwas Rav",
              gender: "Male",
              contact_number: "9879870027",
              email_id: "vr@gmail.com",
              admission_year: "2020",
              merit_12th: "78",
            },
            {
              id: "2020_4",
              student_name: "Arvi Khote",
              gender: "Female",
              contact_number: "9879870028",
              email_id: "ak@gmail.com",
              admission_year: "2020",
              merit_12th: "88",
            },
            {
              id: "2021_0_1",
              student_name: "banshi pande",
              gender: "Female",
              contact_number: "9879870017",
              email_id: "banshi_pande@gmail.com",
              admission_year: "2021",
              merit_diploma: "81",
            },
            {
              id: "2021_0_3",
              student_name: "shakshi pande",
              gender: "Female",
              contact_number: "34567436654",
              email_id: "shakshi_pande@gmail.com",
              admission_year: "2021",
              merit_diploma: "83",
            },
            {
              id: "",
              student_name: "Smit Kikani",
              gender: "Male",
              contact_number: "78351564545",
              email_id: "",
              admission_year: "2021",
              merit_diploma: "79",
            },
            {
              id: "",
              student_name: "Divy Patel",
              gender: "Male",
              contact_number: "56536253545",
              email_id: "",
              admission_year: "2020",
              merit_12th: "79",
            },
            {
              id: "",
              student_name: "Yash Undhad",
              gender: "Female",
              contact_number: "4747558555",
              email_id: "",
              admission_year: "2021",
              merit_diploma: "79",
            },
            {
              id: "",
              student_name: "Mayank Mardiya",
              gender: "Male",
              contact_number: "9879870017",
              email_id: "",
              admission_year: "2020",
              merit_12th: "79",
            },
          ],
        },
        // <------------------------------------------------------------forth year----------------------------------------------------------------------->
        {
          year: "Fourth",
          year_head: "Akash Mehata",
          student_data: [
            {
              id: "2019_1",
              student_name: "Rahul Patel",
              gender: "Male",
              contact_number: "9879870029",
              email_id: "rp@gmail.com",
              admission_year: "2019",
              merit_12th: "66",
            },
            {
              id: "2019_2",
              student_name: "Ravindra Dhudhat",
              gender: "Male",
              contact_number: "9879870030",
              email_id: "rd@gmail.com",
              admission_year: "2019",
              merit_12th: "81",
            },
            {
              id: "2019_4",
              student_name: "Sanket Dravid",
              gender: "Male",
              contact_number: "34567436654",
              email_id: "sanket@gmail.com",
              admission_year: "2019",
              merit_12th: "91",
            },
            {
              id: "2019_7",
              student_name: "Shree Vekariya",
              gender: "Female",
              contact_number: "9879870032",
              email_id: "shree@gmail.com",
              admission_year: "2019",
              merit_12th: "78",
            },
            {
              id: "",
              student_name: "Shivam Dravid",
              gender: "Male",
              contact_number: "77567478645",
              email_id: "",
              admission_year: "2019",
              merit_12th: "92",
            },
          ],
        },

        // <---------------------------------------------------------------pass out---------------------------------------------------------------------->
        
        {
          year: "Pass Out",
          year_head: "Akash Mehata",
          student_data: [
            {
              id: "2018_1",
              student_name: "Anshu Patel",
              gender: "Male",
              contact_number: "9879870037",
              email_id: "anshu@gmail.com",
              admission_year: "2018",
              merit_12th: "76",
            },
            {
              id: "2018_2",
              student_name: "Latika Devani",
              gender: "Female",
              contact_number: "9879870038",
              email_id: "ld@gmail.com",
              admission_year: "2018",
              merit_12th: "81",
            },
            {
              id: "2018_7",
              student_name: "Shekhar Shah",
              gender: "Male",
              contact_number: "9879870039",
              email_id: "ss@gmail.com",
              admission_year: "2018",
              merit_12th: "91",
            },
            {
              id: "2018_4",
              student_name: "Pratik Vekariya",
              gender: "Male",
              contact_number: "34567436654",
              email_id: "pratik@gmail.com",
              admission_year: "2018",
              merit_12th: "78",
            },
            {
              id: "2018_5",
              student_name: "shakshi pande",
              gender: "Female",
              contact_number: "92798734011",
              email_id: "shakshi_pande@gmail.com",
              admission_year: "2018",
              merit_12th: "83",
            },
            {
              id: "",
              student_name: "Harsh Thoriya",
              gender: "Male",
              contact_number: "5465432353652",
              email_id: "",
              admission_year: "2019",
              merit_diploma: "89",
            },
            {
              id: "",
              student_name: "Riya Nakrani",
              gender: "Female",
              contact_number: "56787864553",
              email_id: "",
              admission_year: "2019",
              merit_diploma: "97",
            },
            {
              id: "",
              student_name: "Dushyant Vaja",
              gender: "Male",
              contact_number: "5646456786354",
              email_id: "",
              admission_year: "2019",
              merit_diploma: "96",
            },
          ],
        },
      ],
    },

    // <------------------------------------------------------------------civil---------------------------------------------------------------->

    {
      department: "Civil",
      dep_head: "Virat Kohli",
      year: [
        {
          year: "First",
          year_head: "Nikhil Patel",
          student_data: [
            {
              id: "",
              student_name: "Harsh Patel",
              gender: "Male",
              contact_number: "9879870001",
              email_id: "",
              admission_year: "2022",
              merit_12th: "79",
            },
            {
              id: "",
              student_name: "Jaimin Patel",
              gender: "Male",
              contact_number: "9879870001",
              email_id: "",
              admission_year: "2022",
              merit_12th: "96",
            },
            {
              id: "",
              student_name: "Jeet Vasava",
              gender: "Male",
              contact_number: "9879870001",
              email_id: "",
              admission_year: "2022",
              merit_12th: "81",
            },
            {
              id: "2022_2",
              student_name: "Shalini Patel",
              gender: "Female",
              contact_number: "56787864553",
              email_id: "pshalini@gmail.com",
              admission_year: "2022",
              merit_12th: "85",
            },
            {
              id: "2022_3",
              student_name: "Kevin jadeja",
              gender: "Male",
              contact_number: "9879870003",
              email_id: "kevin@gmail.com",
              admission_year: "2022",
              merit_12th: "87",
            },
            {
              id: "2022_4",
              student_name: "Harsh Dhorajiya",
              gender: "Male",
              contact_number: "9879870004",
              email_id: "Harsh22@gmail.com",
              admission_year: "2022",
              merit_12th: "83",
            },
            {
              id: "",
              student_name: "Vishal Gajera",
              gender: "Male",
              contact_number: "9835540004",
              email_id: "",
              admission_year: "2022",
              merit_12th: "93",
            },
          ],
        },

        // <-------------------------------------------------------------second year---------------------------------------------------------->
        
        {
          year: "Second",
          year_head: "Jagdish Vasava",
          student_data: [
            {
              id: "",
              student_name: "Jatin Panchal",
              gender: "Male",
              contact_number: "9879870006",
              email_id: "",
              admission_year: "2022",
              merit_diploma: "57",
            },
            {
              id: "",
              student_name: "Kishan Vasani",
              gender: "Male",
              contact_number: "56787864553",
              email_id: "",
              admission_year: "2022",
              merit_diploma: "68",
            },
            {
              id: "2021_1",
              student_name: "Divayesh Ranpara",
              gender: "Male",
              contact_number: "9879870005",
              email_id: "dr@gmail.com",
              admission_year: "2021",
              merit_12th: "78",
            },
            {
              id: "",
              student_name: "Yagnik Devani",
              gender: "Male",
              contact_number: "9879870008",
              email_id: "",
              admission_year: "2021",
              merit_12th: "88",
            },{
              id: "",
              student_name: "Ronak Koladiya",
              gender: "Male",
              contact_number: "9879870008",
              email_id: "",
              admission_year: "2021",
              merit_12th: "80",
            },
            {
              id: "2022_0_2",
              student_name: "Krunal Mehata",
              gender: "Male",
              contact_number: "9879870006",
              email_id: "Krunal23@gmail.com",
              admission_year: "2022",
              merit_diploma: "88",
            },
            {
              id: "2022_0_4",
              student_name: "Shubham Khunt",
              gender: "Male",
              contact_number: "9879870007",
              email_id: "shubhu7@gmail.com",
              admission_year: "2022",
              merit_diploma: "67",
            },
            {
              id: "",
              student_name: "Bhargav Gajera",
              gender: "Male",
              contact_number: "9835540004",
              email_id: "",
              admission_year: "2021",
              merit_12th: "93",
            },
            {
              id: "2021_2",
              student_name: "Ashwin Patel",
              gender: "Male",
              contact_number: "9879870008",
              email_id: "apatel@gmail.com",
              admission_year: "2021",
              merit_12th: "77",
            },
          ],
        },

        // <-------------------------------------------------------------third year----------------------------------------------------------->
        
        {
          year: "Third",
          year_head: "Bharat Parmar",
          student_data: [
            {
              id: "2021_0_1",
              student_name: "Chitranjan Rama",
              gender: "Male",
              contact_number: "56787864553",
              email_id: "c.r@gmail.com",
              admission_year: "2021",
              merit_diploma: "72",
            },
            {
              id: "2020_2",
              student_name: "Nupur Parmer",
              gender: "Female",
              contact_number: "9879870010",
              email_id: "np@gmail.com",
              admission_year: "2020",
              merit_12th: "77",
            },
            {
              id: "2020_3",
              student_name: "Sameera Rai",
              gender: "Female",
              contact_number: "9879870011",
              email_id: "sameera@gmail.com",
              admission_year: "2020",
              merit_12th: "88",
            },
            {
              id: "2020_4",
              student_name: "Prabhat Goda",
              gender: "Male",
              contact_number: "9879870012",
              email_id: "pg@gmail.com",
              admission_year: "2020",
              merit_12th: "65",
            },
            {
              id: "2021_0_2",
              student_name: "Vaishali Bhatt",
              gender: "Female",
              contact_number: "98798734011",
              email_id: "Vaishali_bhatt@gmail.com",
              admission_year: "2021",
              merit_diploma: "74",
            },
            {
              id: "",
              student_name: "Mitesh Dudhat",
              gender: "Male",
              contact_number: "56787864553",
              email_id: "",
              admission_year: "2020",
              merit_12th: "93",
            },
            {
              id: "",
              student_name: "Pinal Patel",
              gender: "Female",
              contact_number: "9978021537",
              email_id: "",
              admission_year: "2021",
              merit_diploma: "93",
            },
          ],
        },

        // <--------------------------------------------------------------fourth Year---------------------------------------------------------->
        
        {
          year: "Fourth",
          year_head: "Himanshu Shah",
          student_data: [
            {
              id: "2019_1",
              student_name: "Nancy Patel",
              gender: "Female",
              contact_number: "9879870013",
              email_id: "nancy@gmail.com",
              admission_year: "2019",
              merit_12th: "77",
            },
            {
              id: "2019_2",
              student_name: "Sankalp Desai",
              gender: "Male",
              contact_number: "9879870014",
              email_id: "sankalp",
              admission_year: "2019",
              merit_12th: "75",
            },
            {
              id: "2019_3",
              student_name: "Sudheer Chouhan",
              gender: "Male",
              contact_number: "9879870015",
              email_id: "sc@gmail.com",
              admission_year: "2019",
              merit_12th: "57",
            },
            {
              id: "2019_4",
              student_name: "Niyati Chawada",
              gender: "Female",
              contact_number: "9879870016",
              email_id: "niyati@gmail.com",
              admission_year: "2019",
              merit_12th: "89",
            },
            {
              id: "",
              student_name: "Megha Chawada",
              gender: "Female",
              contact_number: "56787864553",
              email_id: "",
              admission_year: "2020",
              merit_diploma: "90",
            },
            {
              id: "",
              student_name: "Jyoti Chavda",
              gender: "Female",
              contact_number: "9889870016",
              email_id: '',
              admission_year: "2019",
              merit_12th: "79",
            },
          ],
        },

        // <--------------------------------------------------------------pass year------------------------------------------------------------>
        
        {
          year: "Pass Out",
          year_head: "Dipak Jadeja",
          student_data: [
            {
              id: "2018_1",
              student_name: "Rutu Patel",
              gender: "Female",
              contact_number: "9879870033",
              email_id: "rutu@gmail.com",
              admission_year: "2018",
              merit_12th: "68",
            },
            {
              id: "2018_2",
              student_name: "Charmi Dhudhat",
              gender: "Female",
              contact_number: "9879870034",
              email_id: "charmi@gmail.com",
              admission_year: "2018",
              merit_12th: "87",
            },
            {
              id: "2018_3",
              student_name: "Savi Dravid",
              gender: "Feamle",
              contact_number: "56787864553",
              email_id: "savi@gmail.com",
              admission_year: "2018",
              merit_12th: "91",
            },
            {
              id: "2018_4",
              student_name: "Savi patel",
              gender: "Feamle",
              contact_number: "98723470035",
              email_id: "savi_patel@gmail.com",
              admission_year: "2018",
              merit_12th: "80",
            },
            {
              id: "2018_5",
              student_name: "raxita vaghasiya",
              gender: "Feamle",
              contact_number: "987343470035",
              email_id: "raxita_vaghasiya@gmail.com",
              admission_year: "2018",
              merit_12th: "86",
            },
            {
              id: "",
              student_name: "Dhyey Sharma",
              gender: "Male",
              contact_number: "8141652472",
              email_id: "",
              admission_year: "2018",
              merit_12th: "85",
            },
            {
              id: "",
              student_name: "Shrushti Miyani",
              gender: "Feamle",
              contact_number: "8141652472",
              email_id: "",
              admission_year: "2018",
              merit_12th: "86",
            },
            {
              id: "",
              student_name: "Darshan chopda",
              gender: "Male",
              contact_number: "8148652472",
              email_id: "",
              admission_year: "2018",
              merit_12th: "65",
            },
            {
              id: "2018_6",
              student_name: "Ishan Vekariya",
              gender: "Male",
              contact_number: "9879870036",
              email_id: "ishan@gmail.com",
              admission_year: "2018",
              merit_12th: "78",
            },
          ],
        },
      ],
    },
  ],
};

console.log(data);

let newData = JSON.parse(JSON.stringify(data));
var sortNumAction  = false;

// prints the data on table
function printData(filterTable){
  
  document.getElementById('tablebody').innerHTML = '<tr><td colspan=13 class=nodata>NO DATA AVAILABLE</td></tr>';

  var sortMerit = document.getElementById('sortmerit').value; 
  if(sortMerit){
    
    filterTable.sort((a, b) => {
      const meritA = a.department_data.year.student_data.merit_12th || a.department_data.year.student_data.merit_diploma || '';
      const meritB = b.department_data.year.student_data.merit_12th || b.department_data.year.student_data.merit_diploma || '';
      
      if(sortMerit == 'ascending'){
        return meritB.localeCompare(meritA);
      }
      else{
        return meritA.localeCompare(meritB);
      }
    });
  }

  if(sortNumAction){
    filterTable.sort((a, b) => {
      const meritA = a.department_data.year.student_data.contact_number || '';
      const meritB = b.department_data.year.student_data.contact_number || '';

      return meritA.localeCompare(meritB);
    });

    sortNumAction = false;
  }

  var addrow = ``;

  filterTable.forEach((student) => {

    addrow += `<tr>`;
    addrow += `<td>${student.department_data.year.student_data.id}</td>`;
    addrow += `<td>${student.department_data.year.student_data.student_name}</td>`;
    addrow += `<td class=emailids>${student.department_data.year.student_data.email_id}</td>`;
    addrow += `<td>${student.department_data.year.student_data.contact_number}</td>`;
    addrow += `<td>${student.department_data.year.student_data.gender}</td>`;
    addrow += `<td>${student.department_data.year.student_data.admission_year}</td>`;
    addrow += `<td>${student.department_data.year.student_data.merit_12th || student.department_data.year.student_data.merit_diploma || ''}</td>`;
    addrow += `<td>${student.department_data.year.student_data.merit_12th ? "Regular" : "D2D" }</td>`;
    addrow += `<td>${student.collage_name}</td>`;
    addrow += `<td>${student.department_data.department}</td>`;
    addrow += `<td>${student.department_data.dep_head}</td>`;
    addrow += `<td>${student.department_data.year.year_head}</td>`;
    addrow += `<td>${student.department_data.year.year}</td>`;
    addrow += `</tr>`;

    document.getElementById('tablebody').innerHTML = addrow;
  });
}

// filteres the data asccording to selection
function filterData(sameMobileNumber){

  var genderFilter =  document.getElementById('gender').value;

  // for department multipleselection
  var depFilter =  document.getElementById('department');
  var depSelected = [...depFilter.selectedOptions].map(option => option.value);

  // for current year multipleselection
  var curyearFilter =  document.getElementById('currentyear');
  var curyearSelected = [...curyearFilter.selectedOptions].map(option => option.value);

  // for admission year multipleselection
  var adyearFilter =  document.getElementById('admissionyear');
  var adyearSelected = [...adyearFilter.selectedOptions].map(option => option.value);

  var meritFilter = document.getElementById('merit').value;
  var setMerit = document.getElementById('setmerit').value;
  var meritCat = document.getElementById('meritcategory').value;

  var filterTable = [];

  // for filtered object
  var getData = {
    ...newData,
    department_data: newData.department_data.filter((depdata) => depSelected && depSelected != '' ? depSelected.includes(depdata.department) : true).map((depmapdata) => {
      depmapdata.year = depmapdata.year.filter((yeardata) => curyearSelected && curyearSelected != '' ? curyearSelected.includes(yeardata.year) : true).map((yearmapdata) => {
        
        yearmapdata.student_data = yearmapdata.student_data.filter((studentdata) => genderFilter ? studentdata.gender == genderFilter : true)
        .filter((studentdata) => adyearSelected && adyearSelected != '' ? adyearSelected.includes(studentdata.admission_year) : true)
        .filter((studentdata) => meritFilter && setMerit == 'greater' ? studentdata.merit_12th > meritFilter || studentdata.merit_diploma > meritFilter : true)
        .filter((studentdata) => meritFilter && setMerit == 'less' ? studentdata.merit_12th < meritFilter || studentdata.merit_diploma < meritFilter : true)
        .filter((studentdata) => meritCat == 'regular' ? studentdata.merit_12th : true && meritCat == 'd2d' ? studentdata.merit_diploma : true)
        .filter((studentdata) => sameMobileNumber ? sameMobileNumber.some((matchmobile) => studentdata.contact_number == matchmobile.contact_number) : true)
        .map((studentmapdata) => {
          
          // for filtered array
          filterTable.push({
            collage_name: newData.collage_name,
            department_data:{
              department: depmapdata.department,
              dep_head: depmapdata.dep_head,
              year:{
                year: yearmapdata.year,
                year_head: yearmapdata.year_head,
                student_data: studentmapdata
              }
            },
          });

          return studentmapdata;
        });

        return yearmapdata;
      });
      
      return depmapdata;
    }),
  };

  if(genderFilter || depSelected != '' || curyearSelected != '' || adyearSelected != '' || meritFilter && setMerit || meritCat){
  
    console.log("Filtered Object: ",getData);
    console.log("Filtered Array: ",filterTable);
    
    printData(filterTable);
    newData = JSON.parse(JSON.stringify(data));
  }
  else{
    printData(filterTable);
  }

}

// fills the empty id and emails
function fillData(){

  newData.department_data.forEach((department,dindex) => {
    department.year.forEach((year,yindex) => {
      year.student_data.forEach((student,sindex) => {

        var checkRegId = `${student.admission_year}_${sindex+1}`;
        var checkD2dId = `${student.admission_year}_0_${sindex+1}`;

        // Generates Empty Regular Email & Id
        if(newData.department_data[dindex].year[yindex].student_data.some((item)=> item.id == checkRegId)){
          if(student.id == '' && student.merit_12th && student.email_id == ''){
            student.id = `${student.admission_year}_${sindex+5}`;
            student.email_id = `${student.student_name}_${student.id}@gmail.com`;
            student.missingdata = true;
          }
        }
        else{
          if(student.id == '' && student.merit_12th && student.email_id == ''){
            student.id = `${student.admission_year}_${sindex+1}`;
            student.email_id = `${student.student_name}_${student.id}@gmail.com`;
            student.missingdata = true;
          }
        }

        // Generates Empty D2D Email & Id
        if(newData.department_data[dindex].year[yindex].student_data.some((item)=> item.id == checkD2dId)){
          if(student.id == '' && student.merit_diploma && student.email_id == ''){
            student.id = `${student.admission_year}_0_${sindex+5}`;
            student.email_id = `${student.student_name}_${student.id}@gmail.com`;
            student.missingdata = true;
          }
        }
        else{
          if(student.id == '' && student.merit_diploma && student.email_id == ''){
            student.id = `${student.admission_year}_0_${sindex+1}`;
            student.email_id = `${student.student_name}_${student.id}@gmail.com`;
            student.missingdata = true;
          }
        }

      });
    });
  });

  filterData();
}

// filters students with repeateative contact number
function matchContact(){

  var sameMobileNumber = [];

  newData.department_data.forEach((department) => {
    department.year.forEach((year) => {
      year.student_data.forEach((student,sindex) => {

        if (student.contact_number !== "" && sindex !== year.student_data.length - 1) {
          for (let i = sindex + 1; i < year.student_data.length; i++) {
            if (student.contact_number === year.student_data[i].contact_number) {
              sameMobileNumber.push(student);
              sameMobileNumber.push(year.student_data[i]);
            }
          }
        }

      });
    });
  });

  filterData(sameMobileNumber);
}

// to sort matchContact
function sortContact(){
  sortNumAction = true;
  matchContact();
}

// resets everything
function resetData(){

  document.getElementById('gender').value = '';
  document.getElementById('department').value = '';
  document.getElementById('currentyear').value = '';
  document.getElementById('admissionyear').value = '';
  document.getElementById('merit').value = '';
  document.getElementById('setmerit').value = '';
  document.getElementById('meritcategory').value = '';
  document.getElementById('sortmerit').value = '';
  
  newData.department_data.forEach((department) => {
    department.year.forEach((year) => {
      year.student_data.forEach((student) => {

        if(student.missingdata){
          student.id = ``;
          student.email_id = ``;
          student.missingdata = false;
        }

      });
    });
  });

  filterData();
}

// Download File
function downloadFile(){

  var checkFormat = document.getElementById('downloadformat').value;

  if(checkFormat == 'xls'){
    const table = document.getElementById('collegedata');
    const html = table.outerHTML;
    const url = 'data:application/vnd.ms-excel;base64,' + btoa(html);
    const link = document.createElement('a');
    link.href = url;
    link.download = 'College-Data.xls';
    link.click();
  }
  else{
    const table = document.getElementById('collegedata');
    const rows = table.querySelectorAll('tr');
    let csvContent = '';

    rows.forEach(function(row) {
      const rowData = [];
      row.querySelectorAll('th, td').forEach(function(cell) {
        rowData.push('"' + cell.textContent.trim() + '"');
      });
      csvContent += rowData.join(',') + '\n';
    });

    const url = 'data:text/csv;charset=utf-8,' + encodeURIComponent(csvContent);
    const link = document.createElement('a');
    link.href = url;
    link.download = 'College-Data.csv';
    link.click();
  }
}

filterData();